# 快速启动指南: 复制到剪贴板

**功能分支**: `002-copy-to-clipboard`
**创建时间**: 2025-12-14

## 前提条件

- 已完成 001-web-clipper-core 功能的实现
- Chrome 88+ 或 Edge 88+ 浏览器
- 扩展已加载到浏览器

## 功能验证步骤

### 步骤 1: 加载扩展

1. 打开浏览器，访问 `chrome://extensions/` (Chrome) 或 `edge://extensions/` (Edge)
2. 启用"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择 `extension/` 目录

### 步骤 2: 基本功能测试

1. 访问任意包含文章内容的网页 (如新闻、博客)
2. 点击浏览器工具栏中的扩展图标，打开弹窗
3. 点击 "Copy to clipboard" 按钮
4. 打开任意文本编辑器 (如 VS Code, Obsidian)
5. 粘贴 (Ctrl+V / Cmd+V)

**预期结果**:
- 按钮点击后显示 "处理中..." 状态
- 成功后显示 "已复制!" 提示
- 粘贴的内容包含:
  - YAML frontmatter (title, source, clipped)
  - Markdown 格式的文章正文

### 步骤 3: 验证 Markdown 格式

粘贴的内容应类似于:

```markdown
---
title: "文章标题"
source: "https://example.com/article"
clipped: "2025-12-14T10:30:00Z"
---

# 文章标题

文章正文内容...

![图片描述](https://example.com/image.jpg)
```

### 步骤 4: 边界情况测试

| 测试场景 | 操作 | 预期结果 |
|----------|------|----------|
| 空白页面 | 在 about:blank 点击复制 | 显示 "此页面没有可提取的文章内容" |
| 离线模式 | 断开网络后复制已加载页面 | 正常复制成功 |
| 长文章 | 复制超长文章 (>10000字) | 正常复制，内容完整 |
| 重复点击 | 快速多次点击按钮 | 按钮禁用直到操作完成 |

## 性能验证

- 普通文章 (1000-5000 字): < 1 秒
- 长文章 (10000+ 字): < 3 秒

## 问题排查

### 复制失败

1. **检查浏览器权限**: 确保扩展有剪贴板权限
2. **检查页面内容**: 某些页面可能阻止内容提取 (iframe, shadow DOM)
3. **检查控制台**: 打开扩展弹窗的开发者工具查看错误日志

### 内容提取不完整

1. **检查 Readability 输出**: 某些复杂页面布局可能影响提取
2. **尝试选择模式**: 未来版本可能支持手动选择内容区域

## 验收检查清单

- [ ] 按钮在弹窗中正确显示
- [ ] 点击后按钮显示处理状态
- [ ] 成功复制后显示成功提示
- [ ] 粘贴内容包含 YAML frontmatter
- [ ] Markdown 格式在 Obsidian 中正确渲染
- [ ] 离线状态下功能正常
- [ ] 错误情况显示友好提示
